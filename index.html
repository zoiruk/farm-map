<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞—Ä—Ç–∞ —Ñ–µ—Ä–º –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏–∏</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <header>
            <div class="header-content">
                <div class="header-title">
                    <span class="material-symbols-outlined header-icon">agriculture</span>
                    <h1>–ö–∞—Ä—Ç–∞ —Ñ–µ—Ä–º –í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏–∏</h1>
                </div>

                <div class="header-buttons">
                    <button id="addFarmBtn" class="md-button md-filled-button">
                        <span class="material-symbols-outlined">add_circle</span>
                        <span>–î–æ–±–∞–≤–∏—Ç—å —Ñ–µ—Ä–º—É</span>
                    </button>
                    <button id="enterCodeBtn" class="md-button md-outlined-button">
                        <span class="material-symbols-outlined">key</span>
                        <span>–í–≤–µ—Å—Ç–∏ –∫–æ–¥</span>
                    </button>
                </div>
            </div>
        </header>

        <div id="map"></div>
        
        <!-- –†–µ–∫–ª–∞–º–Ω—ã–π –±–∞–Ω–Ω–µ—Ä White Tax Returns -->
        <div class="promo-banner">
            <div class="promo-banner-content">
                <span class="material-symbols-outlined">account_balance</span>
                <div class="promo-text">
                    <strong>White Tax Returns</strong> ‚Äî –í–µ—Ä–Ω–∏—Ç–µ —Å–≤–æ–∏ –Ω–∞–ª–æ–≥–∏! –ë–µ–∑ –ø—Ä–µ–¥–æ–ø–ª–∞—Ç—ã.
                </div>
                <a href="https://whitetax.site/sng" target="_blank" rel="noopener" class="promo-link">
                    –ü–æ–¥–∞—Ç—å –∑–∞—è–≤–∫—É
                    <span class="material-symbols-outlined">arrow_forward</span>
                </a>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –í–≤–æ–¥ –∫–æ–¥–∞ -->
        <div id="codeModal" class="modal">
            <div class="modal-content md-surface">
                <div class="modal-header">
                    <h2>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –∫–æ–¥</h2>
                    <button class="close-btn">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="md-text-field">
                        <input type="text" id="codeInput" placeholder=" " required>
                        <label>–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥</label>
                    </div>
                    <button id="submitCodeBtn" class="md-button md-filled-button full-width">
                        <span class="material-symbols-outlined">login</span>
                        <span>–í–æ–π—Ç–∏</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–µ—Ä–º—ã -->
        <div id="farmModal" class="modal">
            <div class="modal-content large md-surface">
                <div class="modal-header">
                    <h2>–î–æ–±–∞–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–µ—Ä–º–µ</h2>
                    <button class="close-btn">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="farmForm">
                        <div class="md-select">
                            <select id="farmType" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ñ–µ—Ä–º—ã</option>
                                <option value="vegetables">ü•¨ –û–≤–æ—â–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                                <option value="tomatoes">üçÖ –¢–æ–º–∞—Ç–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                                <option value="berries">üçì –Ø–≥–æ–¥–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                                <option value="mushrooms">üçÑ‚Äçüü´ –ì—Ä–∏–±–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                                <option value="flowers">üå∑ –¶–≤–µ—Ç–æ—á–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                                <option value="apples">üçé –Ø–±–ª–æ—á–Ω–∞—è —Ñ–µ—Ä–º–∞</option>
                            </select>
                            <label>–¢–∏–ø —Ñ–µ—Ä–º—ã *</label>
                        </div>

                        <div class="md-text-field">
                            <input type="text" id="farmName" placeholder=" " required autocomplete="off" list="farmNamesList">
                            <datalist id="farmNamesList"></datalist>
                            <label>–ù–∞–∑–≤–∞–Ω–∏–µ —Ñ–µ—Ä–º—ã *</label>
                        </div>

                        <div class="md-text-field">
                            <input type="text" id="farmAddress" placeholder=" " required>
                            <label>–ê–¥—Ä–µ—Å *</label>
                        </div>

                        <div class="md-text-field">
                            <input type="text" id="farmPostcode" placeholder=" " required>
                            <label>Postcode *</label>
                        </div>

                        <div class="md-text-field">
                            <input type="email" id="farmEmail" placeholder=" ">
                            <label>Email —Ñ–µ—Ä–º—ã</label>
                        </div>

                        <div class="md-select">
                            <select id="farmOperator" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞</option>
                                <option value="AgriHR">AgriHR</option>
                                <option value="Concordia">Concordia</option>
                                <option value="Fruitful Jobs">Fruitful Jobs</option>
                                <option value="Pro-Force">Pro-Force</option>
                                <option value="HOPS">HOPS</option>
                            </select>
                            <label>–û–ø–µ—Ä–∞—Ç–æ—Ä Seasonal Worker Programme *</label>
                        </div>

                        <div class="rating-section">
                            <label class="rating-label">–û—Ü–µ–Ω–∫–∞ —Ñ–µ—Ä–º—ã *</label>
                            <div class="md-rating">
                                <button type="button" class="star-btn" data-rating="1">
                                    <span class="material-symbols-outlined">star</span>
                                </button>
                                <button type="button" class="star-btn" data-rating="2">
                                    <span class="material-symbols-outlined">star</span>
                                </button>
                                <button type="button" class="star-btn" data-rating="3">
                                    <span class="material-symbols-outlined">star</span>
                                </button>
                                <button type="button" class="star-btn" data-rating="4">
                                    <span class="material-symbols-outlined">star</span>
                                </button>
                                <button type="button" class="star-btn" data-rating="5">
                                    <span class="material-symbols-outlined">star</span>
                                </button>
                            </div>
                            <input type="hidden" id="farmRating" required>
                        </div>

                        <div class="md-text-field">
                            <textarea id="farmComment" placeholder=" " rows="4"></textarea>
                            <label>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
                        </div>

                        <div class="form-row">
                            <div class="md-text-field">
                                <input type="number" id="farmEarnings" placeholder=" " min="0">
                                <label>–ó–∞—Ä–∞–±–æ—Ç–æ–∫ (¬£)</label>
                            </div>

                            <div class="md-text-field">
                                <input type="number" id="farmDuration" placeholder=" " min="1" max="12">
                                <label>–ú–µ—Å—è—Ü–µ–≤</label>
                            </div>
                        </div>

                        <button type="submit" class="md-button md-filled-button full-width">
                            <span class="material-symbols-outlined">send</span>
                            <span>–û—Ç–ø—Ä–∞–≤–∏—Ç—å</span>
                        </button>
                    </form>
                    <div id="generatedCode" class="md-card success-card" style="display:none;">
                        <span class="material-symbols-outlined success-icon">check_circle</span>
                        <h3>–í–∞—à —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥:</h3>
                        <p class="code-display"></p>
                        <p class="code-info">–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤—Ö–æ–¥–∞!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–µ—Ä–º–µ -->
        <div id="infoModal" class="modal">
            <div class="modal-content large md-surface">
                <div class="modal-header">
                    <button class="close-btn">
                        <span class="material-symbols-outlined">close</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="farmInfo"></div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>
